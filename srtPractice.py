from idlelib.run import manage_socket

import pysrt
from janome.tokenizer import Tokenizer

tokenizer = Tokenizer()
subs = pysrt.open("example.srt")
subsText = []

for sub in subs:
    subsText.append(sub.text)

#All Japanese Words
allWords = []
for sub in subsText:
    tokens = tokenizer.tokenize(sub)
    for token in tokens:
        # MeCab returns '*' if base_form is unknown
        if hasattr(token, "base_form") and token.base_form != "*" and token.base_form != "":
            allWords.append(token.base_form)
        else:
            # If base_form is unknown, append the surface word
            allWords.append(token.surface)

#Exclude all 1-character words
allWords = [word for word in allWords if len(word) > 1]

#Exclude all Greetings
common_greetings = [
    "おはよう", "おはようございます", "おはよ", "おはよー",
    "こんにちは", "こんちは", "こんちわ", "こんちゃ",
    "こんばんは", "ばんは", "ばんちゃ",
    "さようなら", "じゃあね", "またね", "またあした", "また今度", "バイバイ", "ばいばい",
    "おやすみ", "おやすみなさい", "おやすみー", "おやすみ～",
    "はじめまして", "よろしくお願いします", "よろしくね", "よろしく", "よろしくです",
    "ただいま", "おかえり", "いってきます", "いってきますね", "いってらっしゃい", "いってらっしゃいませ",
    "お久しぶり", "お久しぶりです", "ご無沙汰しています", "お疲れ様", "お疲れ様です", "お疲れー"
]
animeWords = []
for word in allWords:
    if word not in common_greetings:
        animeWords.append(word)

allWords = animeWords
animeWords = []
print("Excluding greeting: " + str(len(allWords)))

#Exclude all Pronouns
japanese_pronouns = [
    "私", "僕", "俺", "私たち", "僕たち", "俺たち", "あなた", "君", "お前", "あんた",
    "彼", "彼女", "彼ら", "彼女たち", "自分", "わたくし", "あたし", "おいら", "あたくし",
    "貴様", "君たち", "お前たち", "あんたたち", "あの人", "あの方", "この人", "この方",
    "それ", "これ", "あれ", "どれ", "どの人", "どなた", "誰", "誰か", "誰も", "誰でも",
    "私自身", "自分自身", "皆", "みんな", "誰もが", "誰もいない", "彼自身", "彼女自身",
    "こちら", "そちら", "あちら", "どちら", "ここ", "そこ", "あそこ", "どこ",
    "これら", "それら", "あれら", "どれら", "こういう", "そういう", "ああいう", "どのような",
    "何", "何か", "何も", "どれか", "どんな", "誰かが", "誰もが", "自分たち", "我々",
    "私ども", "我が", "我が身", "己", "己れ", "己自身", "あの方々", "こちら側", "そちら側",
    "あちら側", "誰でもない", "誰もいない", "誰か一人", "誰かしら", "彼ら自身", "彼女ら自身",
    "どなたか", "どなたも", "その人", "この人たち", "あの人たち", "誰でもいい", "どちらでも",
    "ここら", "そこら", "あそこら", "どこか", "どこにも"
]

for word in allWords:
    if word not in japanese_pronouns:
        animeWords.append(word)

allWords = animeWords
animeWords = []
print("Excluding pronouns: " + str(len(allWords)))

#Exclude Locations
japanese_locations = [
    "家", "部屋", "学校", "会社", "店", "駅", "空港", "ホテル", "病院", "銀行",
    "公園", "図書館", "映画館", "郵便局", "スーパー", "コンビニ", "カフェ", "レストラン", "神社", "寺",
    "海", "山", "川", "湖", "橋", "道", "通り", "交差点", "駅前", "町",
    "村", "都市", "国", "世界", "地域", "島", "港", "空", "地下", "屋上",
    "庭", "教室", "廊下", "トイレ", "玄関", "台所", "浴室", "ベッドルーム", "リビング", "書斎",
    "市場", "工場", "倉庫", "駐車場", "劇場", "体育館", "スタジアム", "プール", "温泉", "山頂",
    "丘", "森", "林", "草原", "砂浜", "川辺", "湖畔", "沿岸", "道路", "高速道路",
    "駅舎", "バス停", "タクシー乗り場", "地下鉄", "線路", "橋の下", "トンネル", "交番", "警察署", "消防署",
    "役所", "裁判所", "博物館", "美術館", "展望台", "展覧会場", "遊園地", "テーマパーク", "動物園", "水族館",
    "キャンプ場", "山道", "森の中", "河口", "温帯", "熱帯", "砂漠", "大通り", "小道", "路地"
]

for word in allWords:
    if word not in japanese_locations:
        animeWords.append(word)

allWords = animeWords
animeWords = []
print("Excluding Locations: " + str(len(allWords)))

#Exclude Verbs
japanese_verbs = [
    "行く", "来る", "帰る", "入る", "出る", "使う", "作る", "見る", "話す", "聞く", "する",
    "食べる", "飲む", "買う", "売る", "読む", "書く", "遊ぶ", "待つ", "歩く", "走る",
    "寝る", "起きる", "働く", "休む", "遊ぶ", "泊まる", "乗る", "降りる", "開ける", "閉める",
    "着る", "脱ぐ", "座る", "立つ", "洗う", "掃除", "勉強", "教える", "習う", "聞こえる",
    "話せる", "思う", "信じる", "忘れる", "覚える", "助ける", "切る", "渡す", "取る", "貸す",
    "借りる", "帰す", "歩ける", "笑う", "泣く", "怒る", "喜ぶ", "遊べる", "見せる", "閉じる",
    "触る", "押す", "引く", "開く", "聞く", "話す", "歌う", "踊る", "泳ぐ", "飛ぶ",
    "座れる", "立てる", "通う", "集まる", "分かる", "知る", "考える", "感じる", "始める", "終わる",
    "続ける", "止める", "帰る", "出かける", "入れる", "出す", "持つ", "置く", "抱く", "投げる",
    "蹴る", "殴る", "逃げる", "探す", "見つける", "迎える", "送る", "起こす", "寝かす", "笑わせる",
    "泣かす", "話しかける", "呼ぶ", "答える", "質問", "説明", "翻訳", "運ぶ", "建てる", "壊す",
    "直す", "洗濯", "料理", "掃く", "拭く", "整理", "運転", "止まる", "曲がる",
    "渡る", "登る", "降る", "流れる", "飛ばす", "消す", "光る", "照らす", "見える", "聞こえる",
    "感じる", "比べる", "変える", "変わる", "始まる", "終える", "待たせる", "決める", "決まる", "選ぶ",
    "助かる", "困る", "間に合う", "遅れる", "急ぐ", "休ませる", "遊ばせる", "教わる", "学ぶ", "試す",
    "伝える", "報告", "相談", "信じさせる", "見守る", "守る", "壊れる", "笑う", "泣く", "怒らせる",
    "喜ばせる", "祝う", "驚く", "驚かす", "訪れる", "泊める", "借りる", "貸す", "探せる", "拾う",
    "投げられる", "蹴られる", "殴られる", "感じさせる", "待つ", "行わせる", "来させる", "作らせる", "食べさせる", "飲ませる",
    "読ませる", "書かせる", "話させる", "見させる", "聞かせる", "教えさせる", "習わせる", "考えさせる", "覚えさせる", "信じさせる",
    "助けさせる", "運ばせる", "作られる", "渡される", "取られる", "貸される", "借りられる", "守られる", "直される", "洗われる",
    "褒める", "叱る", "励ます", "謝る", "頼む", "招く", "歓迎する", "拒否する", "断る", "承認する",
    "確認する", "許す", "助ける", "守る", "逃げる", "避ける", "追いかける", "追い越す", "隠す", "見守る",
    "探す", "拾う", "落とす", "投げる", "蹴る", "押す", "引く", "叩く", "掴む", "握る",
    "振る", "揺れる", "倒す", "倒れる", "立てる", "座らせる", "眠る", "起こす", "寝かす", "目覚める",
    "走らせる", "歩かせる", "泳ぐ", "漂う", "飛ばす", "滑る", "転ぶ", "登らせる", "降ろす", "上げる",
    "下げる", "渡す", "渡る", "回る", "曲がる", "止まる", "進む", "戻る", "回す", "回収する",
    "蓄える", "消費する", "分ける", "集める", "運ぶ", "届ける", "持ち帰る", "持ち上げる", "落ち着く", "興奮する",
    "楽しむ", "喜ばせる", "悲しむ", "怒らせる", "驚かせる", "悩む", "困らせる", "感謝する", "信頼する", "疑う",
    "理解させる", "納得する", "説明させる", "相談させる", "教え込む", "学ばせる", "覚え込む", "試させる", "挑ませる", "練習させる",
    "考え込む", "悩ませる", "決定する", "判断する", "計算する", "測る", "量る", "比べる", "分析する", "整理させる",
    "設置する", "建てる", "破壊させる", "修理させる", "改造する", "作り直す", "描かせる", "描き直す", "創造する", "発明させる",
    "描写する", "表現させる", "伝える", "知らせる", "報告させる", "命令する", "指示する", "命じる", "従わせる",
    "参加させる", "退場させる", "連れて行く", "連れて来る", "見送る", "出迎える", "見つけさせる", "見失う", "追跡する", "追跡させる",
    "潜る", "覗く", "調べさせる", "探らせる", "覗かせる", "盗む", "隠させる", "暴く", "暴露する", "捕まえる",
    "解放する", "拘束する", "支配する", "支配させる", "征服する", "奪う", "取り返す", "譲る", "交わす", "握らせる",
    "交渉させる", "説得させる", "妨害する", "防ぐ", "攻撃する", "攻める", "守らせる", "避けさせる", "退かせる", "援助する",
    "助けさせる", "救う", "救助する", "治療する", "診察する", "看護する", "管理させる", "運営させる", "監督する", "指導する",
    "教え導く", "教育する", "訓練する", "鍛える", "鍛えさせる", "練習する", "挑戦させる", "経験する", "経験させる", "試練にかける",
    "冒険する", "探検する", "旅する", "旅立つ", "到着させる", "出発させる", "移動させる", "運ばせる", "配達する", "届けさせる"
]

for word in allWords:
    if word not in japanese_verbs:
        animeWords.append(word)

allWords = animeWords
animeWords = []
print("Excluding Verbs: " + str(len(allWords)))

#Exclude Manga words
manga_words = [
    "アハハ", "ウフフ", "ええと", "あの", "その", "って", "という", "すか", "なの", "ねえ",
    "よね", "だよ", "だね", "わけ", "かも", "かな", "ぜ", "ぞ", "だって", "ほら",
    "まあ", "ふーん", "うん", "えー", "あっ", "おー", "へえ", "なるほど", "やっぱり", "ちょっと",
    "さあ", "まさか", "ほんと", "ほんとう", "まったく", "いいえ", "ううん", "わあ", "ぎゃー", "キャー",
    "ドキドキ", "ワクワク", "ハハハ", "ヒヒヒ", "クスクス", "ガーン", "バカ", "うそ", "ほんとに", "だめ",
    "すごい", "やばい", "かわいい", "かっこいい", "ムカッ", "ムリ", "ねえねえ", "そうだ", "だから", "でも",
    "しかし", "それで", "ところで", "さて", "じゃあ", "では", "おい", "ちょっと待って", "どうした", "なんだ", "なに",
    "どういうこと", "まさかね", "やれやれ", "ふざけるな", "うるさい", "おかしい", "さすが", "なるほどね", "そうか", "そうなんだ",
    "えっとね", "というか", "なんて", "だからさ", "ほんとにね", "ねえよ", "やっと", "さあね", "それじゃ", "じゃあね",
    "バッチリ", "あー", "うーん", "おっと", "ええ", "ふふ", "あはは", "ぎゅっ", "ぱちん", "きゃっ",
    "ドーン", "ガシャン", "バタン", "ズキン", "キラキラ", "ピカッ", "ゴロゴロ", "ワー", "キャッ", "ハッ"
]
for word in allWords:
    if word not in manga_words:
        animeWords.append(word)

allWords = animeWords
animeWords = []
print("Excluding Manga words: " + str(len(allWords)))
print(allWords)

#Exclude conjunction, polite-ending words
